1. Создайте новый раздел, начинающийся с первого свободного сектора и имеющий размер 300 МБайт.

fdisk /dev/sdb
Command: n
Partition type: p (primary)
Partition number: 1
First sector (2048-2496767, default 2048): 2048
+300M
Command: w

2. Создайте файл в домашнем каталоге пользователя root и сохраните в него UUID созданного раздела.

blkid /dev/sdb1 | awk '{print $2}' >> /root/uuid

3. Создайте на созданном разделе файловую систему ext4 с размером блока 4096 байт.

mkfs ext4 -b 4096 /dev/sdb1

4. Выведите на экран текущее состояние параметров, записанных в суперблоке созданной файловой системы.

tune2fs -l /dev/sdb1

5. Настройте эту файловую систему таким образом, чтобы ее автоматическая проверка запускалась через 2 месяца или каждое второе монтирование файловой системы.

tune2fs -i 2m /dev/sdb1 - check interval
tune2fs -c 2 /dev/sdb1 - maximum mount count = 2

6. Создайте в каталоге /mnt подкаталог newdisk и подмонтируйте в него созданную файловую систему.

mkdir /mnt/newdisk
mount /dev/sdb1 /mnt/newdisk

7. Создайте в домашнем каталоге пользователя root ссылку на смонтированную файловую систему.

ln -s /mnt/newdisk /root/symlink

8. Создайте каталог с любым именем в смонтированной файловой системе.

mkdir /mnt/newdisk/slava

9. Включите автомонтирование при запуске операционной системы созданной файловой системы в /mnt/newdisk таким образом, чтобы было невозможно запускать исполняемые файлы, находящиесяв этой системе, а также с отключением возможности записи времени последнего доступа к файлу для ускорения работы с этой файловой системой. Перезагрузите операционную систему ипроверьте доступность файловой системы. Проверьте невозможность запустить исполняемый файл, если он хранится в этой файловой системе.

echo "/dev/sdb1 /mnt/newdisk ext4 noexec,noatime 0 0" >> /etc/fstab
lsblkv - проверка
touch file
chmod +x file
./file -> permission denied

10. Увеличьте размер раздела и файловой системы до 350 МБайт. Проверьте, что размер изменился.

umount -l /dev/sdb1
df - убеждаемся, что нет /dev/sdb
fdisk /dev/sdb
fdisk/dev/sdb -> d -> 1 -> n -> p -> +350M -> w
reboot - при запуске папка снова будет автоматически смонтирована
ls /root/symlink - все ок, смонтировано
Сфотографировал на телефон

umount /dev/sdb2
fdisk /dev/sdb
d 2
n 2 -> p -> +350M
w
reboot
e2fsck -f /dev/sdb2
resize2fs /dev/sdb2
mount /dev/sdb2 /mnt/newdisk

11. Проверьте на наличие ошибок созданную файловую системы "в безопасном режиме", то есть в режиме запрета внесения каких-либо изменений в файловую систему, даже если обнаружены ошибки.

fsck -n /dev/sdb2

12. Создайте новый раздел, размером в 12 Мбайт. Настройте файловую систему, созданную в пункте 3 таким образом, чтобы ее журнал был расположен на разделе, созданном в этом пункте.

mke2fs -t ext4 /dev/sdb3
mke2fs -O journal_dev -b 4096 /dev/sdb3
mke2fs -O ^has_journal /dev/sdb2
mke2fs -o journal_data -j -J device=/dev/sdb3 /dev/sdb2
dumpe2fs /dev/sdb3 - чтобы проверить (поле journal_div)


13. Создайте два новых раздела, размером в 100 МБайт каждый.

fdisk /dev/sdb
delete 1
new 1
new 4

14. Создайте группу разделов LVM и логический том LVM над созданными в предыдущем пункте разделами. Создайте файловую систему ext4 для созданного логического тома LVM и смонтируйте её в предварительно созданный каталог supernewdisk в каталоге mnt.

vgcreate volume_group /dev/sdb1 /dev/sdb4
lvcreate -L 190M -n logical_volume volume_group
lvdisplay /dev/volume_group/logical_volume
mkfs.ext4 /dev/volume_group/logical_volume
mkdir /mnt/supernewdisk
mount /dev/volume_group/logical_volume /mnt/supernewdisk
df

15. Создайте папку (каталог) в хостовой операционной системе и предоставьте к ней сетевой доступ, создав сетевой ресурс на хостовой операционной системе. Создайте в директории /mnt поддиректорию share и подмонтируйте в нее созданный сетевой ресурс.

ifconfig на маке
mount -t cifs //192.168.1.58/example /mnt/sharedfolder -o user=vaceslavefimov,vers=2.0
Вводим пароль от хостовой оси
Теперь папка расшарена

16. Сделайте так, чтобы сетевой ресурс автоматически монтировалcя для чтения при загрузке операционной системы. Перезагрузите операционную систему и проверьте, что автоматическое монтирование ресурса выполнилось.

Добавляем в /etc/fstab следующую строчку
//192.168.1.58/example /mnt/sharedfolder cifs user=vaceslavefimov,password=slava,vers=2.0
reboot
проверяем, что все файлы в /mnt/sharedfolder на месте